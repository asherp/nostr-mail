<ProfileScreen>:
    MDBoxLayout:
        orientation: 'vertical'
        padding: "16dp"

        MDTopAppBar:
            title: "Profile"
            elevation: 4
            pos_hint: {"top": 1}
            md_bg_color: "#e7e4c0"
            specific_text_color: "#4a4939"
            left_action_items: [["menu", lambda x: app.root.ids.nav_drawer.set_state("open")]]

        ScrollView:
            MDList:

                # Adjust the top positioning of the MDCard
                MDCard:
                    size_hint: None, None
                    size: "200dp", "200dp"
                    pos_hint: {'center_x': 0.5}
                    elevation: 2
                    AsyncImage:
                        id: profile_picture
                        source: root.ids.picture_url.text
                        allow_stretch: True
                        keep_ratio: True
                        size_hint: None, None
                        size: "200dp", "200dp"
                        pos_hint: {'center_x': 0.5, 'center_y': 0.5}

                MDTextField:
                    id: picture_url
                    hint_text: "Picture URL"
                    on_text: app.root.ids.profile_screen.ids.profile_picture.source = self.text

                MDTextField:
                    id: display_name
                    hint_text: "Display Name"

                MDTextField:
                    id: name
                    hint_text: "Name"

                MDTextField:
                    id: about
                    hint_text: "About"

                MDTextField:
                    id: email
                    hint_text: "Email"

                OneLineIconListItem:
                    text: "Save Profile"
                    on_release: root.save_profile()

                    IconLeftWidget:
                        icon: 'content-save'

                # Status message label
                MDLabel:
                    id: status_message
                    text: ""
                    size_hint_y: None
                    height: self.texture_size[1]
                    pos_hint: {'center_x': 0.5}
                    halign: 'center'
