# CFG Grammar Definition for BIP39 Encode Subject
# Format: NonTerminal = Production1 | Production2 | ...
# Terminal symbols are POS tags: Det, Adj, N, V, Modal, Aux, Cop, To, Prep, Adv, Dot, Prefix
# Optional elements use ? suffix
# Parentheses group sequences
# Weight annotations: (weight: production) for probabilistic selection
#
# Subject mode: Single sentence with optional prefix (30% chance)
# Prefers shorter VP productions for email subject lines

# S can start with optional prefix (30% chance) or go straight to sentence
S = (0.3: Prefix SContent) | (0.7: SContent)

# Main sentence content - can be extended to embed many payload words
# These productions allow for longer sentences to embed many payload words
# Weights favor longer productions
SContent = (0.1: NP VP Dot) | (0.2: NP VP PP Dot) | (0.3: NP VP PP PP Dot) | (0.15: Adj N VP PP Dot) | (0.1: Adv N VP PP Dot) | (0.05: V NP PP Dot) | (0.1: NP VP PP PP PP Dot)

NP = Det Adj? N | Det Adj? N Adj? | Det N

# VP productions - prefer shorter for subject mode
# Shorter productions have higher weights
VP = (0.5: Modal V NP) | (0.3: Cop Adj) | (0.15: V NP) | (0.05: Modal V NP PP)

PP = Prep NP | Prep Det N
